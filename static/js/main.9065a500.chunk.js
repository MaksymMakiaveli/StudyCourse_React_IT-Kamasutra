(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,a){e.exports={chats:"Chats_chats__8L5b5",chat_message:"Chats_chat_message__2fpWa"}},107:function(e,t,a){e.exports={qad:"Message_qad__eZABI",text_message:"Message_text_message__2GpdJ"}},108:function(e,t,a){e.exports={background_profile_img:"BackgroundProfile_background_profile_img__3YmEW"}},109:function(e,t,a){e.exports={container_preloader:"Preloader_container_preloader__3OHH7",preloader:"Preloader_preloader__1jCIk"}},110:function(e,t,a){e.exports={grid_container:"Users_grid_container__1sgqs",wrapper_pagination:"Users_wrapper_pagination__3ueC0"}},151:function(e,t,a){e.exports={wrapper_description:"ProfileDescription_wrapper_description__259g-"}},21:function(e,t,a){e.exports={description_text:"ProfileData_description_text__v2Qz-",title_contacts:"ProfileData_title_contacts__2p0KQ",description_list_item:"ProfileData_description_list_item__17Ikq",description_namePerson:"ProfileData_description_namePerson__1Bq6m",status:"ProfileData_status__2EV9A",noselect:"ProfileData_noselect__nKZ00",edit_button:"ProfileData_edit_button__28_oY"}},304:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),i=a.n(s),c=a(19),o=a(31),l=a(12),u=a(10),j=a(22),p=a(23),d=a(11),b=a(39),_=a(4),f=a(1),m=function(e){return{isAuth:e.auth.isAuth}},O=a(7),g="ADD-MESSAGE",h="UPDATE-NEW-MESSAGE-TEXT",x={DataMessage:[{id:1,messages:"Hi"},{id:2,messages:"How are you?"},{id:3,messages:"Yo"}],DataChats:[{id:1,name:"Maks"},{id:2,name:"Dimych"},{id:3,name:"Karina"},{id:4,name:"Alex"},{id:5,name:"Philip"}],newMessageText:""},v=a(106),w=a.n(v),N=function(e){var t="/dialogs/"+e.id;return Object(f.jsx)("div",{className:w.a.chats,children:Object(f.jsx)(o.b,{to:t,className:w.a.chat_message,children:e.name})})},P=a(55),y=a.n(P),S=a(107),C=a.n(S),k=function(e){var t=e.messages;return Object(f.jsx)("div",{className:C.a.qad,children:Object(f.jsx)("p",{className:C.a.text_message,children:t})})},A=function(e){var t=e.DataMessage,a=e.DataChats,n=e.newMessageText,r=e.addMessage,s=e.messageChange,i=e.isAuth,c=t.map((function(e){return Object(f.jsx)(k,{messages:e.messages},e.id)})),o=a.map((function(e){return Object(f.jsx)(N,{id:e.id,name:e.name},e.id)}));return i?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:y.a.wrapper_dialogs,children:[Object(f.jsx)("div",{className:y.a.container_chats,children:o}),Object(f.jsx)("div",{className:y.a.container_message,children:Object(f.jsx)("div",{className:y.a.message,children:c})})]}),Object(f.jsxs)("form",{className:y.a.formMessage,onSubmit:function(e){e.preventDefault(),n?r():alert("\u041f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0435")},children:[Object(f.jsx)("input",{onChange:function(e){var t=e.target.value;s(t)},className:y.a.inputMessage,value:n,placeholder:"Message..."}),Object(f.jsx)("button",{formTarget:"_self",type:"submit",className:y.a.buttonMessage,children:"Send Message"})]})]}):Object(f.jsx)(d.a,{to:"/login"})},T=Object(b.c)(Object(c.b)((function(e){var t=e.messagePage;return{DataMessage:t.DataMessage,DataChats:t.DataChats,newMessageText:t.newMessageText}}),{addMessage:function(){return{type:g}},messageChange:function(e){return{type:h,newSms:e}}}),(function(e){var t=function(t){Object(j.a)(n,t);var a=Object(p.a)(n);function n(){return Object(l.a)(this,n),a.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(e,Object(_.a)({},this.props)):Object(f.jsx)(d.a,{to:"/login"})}}]),n}(n.Component);return Object(c.b)(m)(t)}))(A),F=function(e){return e.usersPage.users},M=function(e){return e.usersPage.pageSize},D=function(e){return e.usersPage.totalUsersCount},E=function(e){return e.usersPage.currentPage},U=function(e){return e.usersPage.isFetching},I=function(e){return e.usersPage.followingInProgress},L=a(32),B=a.n(L),J=function(e){var t=e.children;return Object(f.jsxs)("nav",{className:B.a.nav,children:[Object(f.jsxs)("ul",{className:B.a.nav_list,children:[Object(f.jsx)("li",{className:B.a.nav_list_items,children:Object(f.jsx)(o.b,{to:"/profile",activeClassName:B.a.activeLink,children:"Profile"})}),Object(f.jsx)("li",{className:B.a.nav_list_items,children:Object(f.jsx)(o.b,{to:"/dialogs",activeClassName:B.a.activeLink,children:"Message"})}),Object(f.jsx)("li",{className:B.a.nav_list_items,children:Object(f.jsx)(o.b,{to:"/news",activeClassName:B.a.activeLink,children:"News"})}),Object(f.jsx)("li",{className:B.a.nav_list_items,children:Object(f.jsx)(o.b,{to:"/music",activeClassName:B.a.activeLink,children:"Music"})}),Object(f.jsx)("li",{className:B.a.nav_list_items,children:Object(f.jsx)(o.b,{to:"/settings",activeClassName:B.a.activeLink,children:"Settings"})}),Object(f.jsx)("li",{className:B.a.nav_list_items,children:Object(f.jsx)(o.b,{to:"/users",activeClassName:B.a.activeLink,children:"Users"})})]}),Object(f.jsx)("h3",{className:B.a.title,children:"Friends"}),t]})},z=a(85),R=a.n(z),V=a.p+"static/media/profileNoAvatar.22c31152.png",G=function(e){var t=e.users;return Object(f.jsx)(f.Fragment,{children:t.slice(0,3).map((function(e){return Object(f.jsxs)("div",{className:R.a.wrapper,children:[Object(f.jsx)("a",{href:"##",children:Object(f.jsx)("img",{className:R.a.avatar,src:null!=e.photos.small?e.photos.small:V,alt:""})}),Object(f.jsx)("div",{children:Object(f.jsx)("a",{href:"##",className:R.a.nickname,children:Object(f.jsx)(o.b,{to:"/profile/"+e.id,children:Object(f.jsx)("p",{children:e.name})})})})]},e.id)}))})},H=function(e){e.DataFriends;var t=e.users;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(J,{children:Object(f.jsx)(G,{users:t})})})},q=Object(c.b)((function(e){return{DataFriends:e.siteBar.DataFriends,users:F(e)}}))(H),W=a(3),K=a(6),Y=a.n(K),X=a(15),Q=a(148).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"08d485b0-c172-4086-90b8-c2840267f674"}}),Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Q.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},$=function(e){return Q.get("profile/".concat(e))},ee=function(e){return Q.get("profile/status/".concat(e))},te=function(e){return Q.put("profile/status",{status:e})},ae=function(e){var t=new FormData;return t.append("image",e),Q.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},ne=function(e){return Q.put("profile",e)},re=function(e){return Q.post("follow/"+e)},se=function(e){return Q.delete("follow/"+e)},ie=function(){return Q.get("auth/me")},ce=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Q.post("auth/login",{email:e,password:t,captcha:a})},oe=function(){return Q.delete("auth/login")},le=function(){return Q.get("security/get-captcha-url")},ue="ADD-POST",je="UPDATE-NEW-POST-TEXT",pe="SET_USERS_PROFILE",de="SET_STATUS",be="SAVE_PHOTO_SUCCESS",_e="SET_MY_PROFILE",fe={DataPost:[],newPostText:"",profile:null,myProfile:null,status:""},me=function(e){return{type:de,status:e}},Oe=function(e){return{type:be,avatar:e}},ge=function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(a){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:n=t.sent,a((r=n.data,{type:_e,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},he=function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:0===t.sent.data.resultCode&&console.log(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},xe=a(14),ve=a(151),we=a.n(ve),Ne=a(25),Pe=a(59),ye=a.n(Pe),Se=a(33),Ce=a.n(Se),ke=function(e){var t=e.isOwner,a=(e.myProfile,e.savePhoto),n=e.profile;return Object(f.jsxs)("div",{className:Ce()(ye.a.wrapper_img,Object(Ne.a)({},ye.a.wrapper_img_opacity,t)),children:[Object(f.jsx)("img",{src:n.photos.large||V,alt:"",className:Ce()(ye.a.description_avatar,Object(Ne.a)({},ye.a.opacity_avatar,t))}),t&&Object(f.jsxs)("label",{htmlFor:"uploadAvatar",children:[Object(f.jsx)("input",{type:"file",name:"avatar",id:"uploadAvatar",className:ye.a.upload_avatar,onChange:function(e){e.target.files.length&&a(e.target.files[0])}}),Object(f.jsx)("i",{className:Ce()("pi","pi-image",ye.a.icon_label),style:{fontSize:"3rem",color:"white"}})]})]})},Ae=function(e){var t=Object(n.useState)(!1),a=Object(xe.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(e.status),c=Object(xe.a)(i,2),o=c[0],l=c[1];Object(n.useEffect)((function(){l(e.status)}),[e.status]);var u=function(){r||s(!0),r&&(s(!1),e.updateStatus(o))};return Object(f.jsxs)(f.Fragment,{children:[!r&&Object(f.jsx)("span",{onClick:u,children:e.status||"_-_-_-_"}),r&&Object(f.jsx)("input",{autoFocus:!0,type:"text",onBlur:u,onChange:function(e){l(e.currentTarget.value)},value:o})]})},Te=a(86),Fe=a.n(Te),Me=function(e){var t=e.contactTitle,a=e.contactValue,n=Object(f.jsx)("span",{className:Fe.a.noInformation,children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0435\u0442\u0443"});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{className:Fe.a.title_contacts,children:[t,":"]}),Object(f.jsx)("a",{className:Fe.a.value_contacts,href:"##",children:null===a?n:a})]})},De=a(21),Ee=a.n(De),Ue=a(40),Ie=a(344),Le=a(346),Be=a(343),Je=function(e){var t=e.profile,a=e.updateStatus,n=e.status,r=e.isOwner,s=e.goToEditMode;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:Ee.a.description_text,children:[Object(f.jsx)("h2",{className:Ee.a.description_namePerson,children:t.fullName.toUpperCase()}),Object(f.jsxs)("ul",{className:Ee.a.description_list,children:[Object(f.jsxs)("li",{className:Ee.a.description_list_item,children:["Status:",Object(f.jsx)("span",{className:Ee.a.status,children:Object(f.jsx)(Ae,{status:n,updateStatus:a})})]}),Object.keys(t.contacts).map((function(e){return Object(f.jsx)("li",{className:Ee.a.description_list_item,children:Object(f.jsx)(Me,{contactTitle:e,contactValue:t.contacts[e]})},e)})),Object(f.jsxs)("li",{className:Ee.a.description_list_item,children:[Object(f.jsxs)("span",{className:Ee.a.title_contacts,children:[Object.keys(t)[0],":"]}),t.aboutMe]}),Object(f.jsxs)("li",{className:Ee.a.description_list_item,children:[Object(f.jsxs)("span",{className:Ee.a.title_contacts,children:[Object.keys(t)[2],":"]}),t.lookingForAJob?"yes":"no"]}),Object(f.jsxs)("li",{className:Ee.a.description_list_item,children:[Object(f.jsxs)("span",{className:Ee.a.title_contacts,children:[Object.keys(t)[3],":"]}),t.lookingForAJobDescription]})]}),r?Object(f.jsx)("button",{onClick:s,className:Ee.a.edit_button}):null]})})},ze=function(e){var t=e.profile,a=e.updateStatus,n=e.status,r=e.exitToEditMode,s=Object(c.c)(),i=Object(Ue.e)(),o=i.register,l=i.handleSubmit,u=i.control;return Object(f.jsxs)("form",{className:Ee.a.description_text,onSubmit:l((function(e){s(he(e)),r()})),children:[Object(f.jsx)("h2",{className:Ee.a.description_namePerson,children:t.fullName.toUpperCase()}),Object(f.jsxs)("ul",{className:Ee.a.description_list,children:[Object(f.jsxs)("li",{className:Ee.a.description_list_item,children:["Status:",Object(f.jsx)("span",{className:Ee.a.status,children:Object(f.jsx)(Ae,{status:n,updateStatus:a})})]}),Object(f.jsx)("li",{className:Ee.a.description_list_item,children:Object(f.jsx)(Ie.a,Object(_.a)({label:"Full Name",defaultValue:t.fullName,id:"standard-basic"},o("fullName")))}),Object(f.jsx)("li",{className:Ee.a.description_list_item,children:Object(f.jsx)(Ie.a,Object(_.a)(Object(_.a)({label:"Job Description",defaultValue:t.lookingForAJobDescription},o("lookingForAJobDescription")),{},{id:"standard-basic"}))}),Object(f.jsx)("li",{className:Ee.a.description_list_item,children:Object(f.jsx)(Ie.a,Object(_.a)({id:"standard-basic",label:"About Me",defaultValue:t.aboutMe},o("aboutMe")))}),Object(f.jsxs)("label",{htmlFor:"lookingForAJob",children:["looking For A Job",Object(f.jsx)(Ue.a,{name:"lookingForAJob",control:u,id:"lookingForAJob",render:function(e){var a=e.field;return Object(f.jsx)(Le.a,Object(_.a)({defaultChecked:t.lookingForAJob},a))}})]}),Object.keys(t.contacts).map((function(e){return Object(f.jsx)("li",{className:Ee.a.description_list_item,children:Object(f.jsx)(Ie.a,Object(_.a)({label:e,defaultValue:t.contacts[e],id:"standard-basic"},o("contacts."+e)))},e)}))]}),Object(f.jsx)(Be.a,{id:"standard-basic",color:"secondary",type:"submit",label:"submit",children:"SAVE"})]})},Re=function(e){var t=e.profile,a=e.status,r=e.updateStatus,s=e.isOwner,i=e.savePhoto,c=e.myProfile,o=Object(n.useState)(!1),l=Object(xe.a)(o,2),u=l[0],j=l[1];return Object(f.jsxs)("div",{className:we.a.wrapper_description,children:[Object(f.jsx)(ke,{profile:t,isOwner:s,myProfile:c,savePhoto:i}),u?Object(f.jsx)(ze,{isOwner:s,status:a,updateStatus:r,savePhoto:i,profile:t,exitToEditMode:function(){j(!1)}}):Object(f.jsx)(Je,{goToEditMode:function(){j(!0)},isOwner:s,status:a,updateStatus:r,savePhoto:i,profile:t})]})},Ve=a(64),Ge=a.n(Ve),He=a(87),qe=a.n(He),We=function(e){var t=e.profile,a=e.post;return Object(f.jsxs)("div",{className:qe.a.post,children:[Object(f.jsx)("img",{alt:"",className:qe.a.post_avatar,src:t.photos.large?t.photos.large:V}),Object(f.jsx)("p",{className:qe.a.post_text,children:a})]})},Ke=function(e){var t=e.DataPost,a=e.newPostText,n=e.addPost,r=e.updateNewPostText,s=e.profile,i=t.map((function(e){return Object(f.jsx)(We,{profile:s,post:e.post},e.id)}));return Object(f.jsxs)("div",{className:Ge.a.wrapper,children:[Object(f.jsx)("h3",{className:Ge.a.title,children:"My posts"}),Object(f.jsxs)("form",{className:Ge.a.formMyPost,onSubmit:function(e){e.preventDefault(),a?n():alert("\u041f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0435")},children:[Object(f.jsx)("input",{onChange:function(e){var t=e.target.value;r(t)},className:Ge.a.input,value:a,placeholder:"Post..."}),Object(f.jsx)("button",{formTarget:"_self",type:"submit",className:Ge.a.button,children:"Send"})]}),Object(f.jsx)("div",{children:i})]})},Ye=a(108),Xe=a.n(Ye),Qe=a.p+"static/media/BackgroundProfile.7d597e86.jpg";function Ze(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:Xe.a.background_profile,children:Object(f.jsx)("img",{alt:"",className:Xe.a.background_profile_img,src:Qe})})})}var $e=a(109),et=a.n($e),tt=a.p+"static/media/preloader.7ddbab49.svg",at=function(){return Object(f.jsx)("div",{className:et.a.container_preloader,children:Object(f.jsx)("img",{className:et.a.preloader,src:tt,alt:""})})},nt=function(e){var t=e.DataPost,a=e.newPostText,n=e.profile,r=e.addPost,s=e.updateNewPostText,i=e.status,c=e.updateStatus,o=e.isOwner,l=e.savePhoto,u=e.myProfile;return n&&u?Object(f.jsxs)("div",{children:[Object(f.jsx)(Ze,{}),Object(f.jsx)(Re,{myProfile:u,profile:n,status:i,updateStatus:c,isOwner:o,savePhoto:l}),Object(f.jsx)(Ke,{DataPost:t,profile:n,newPostText:a,updateNewPostText:s,addPost:r})]}):Object(f.jsx)(at,{})},rt=Object(b.c)(Object(c.b)((function(e){var t=e.profilePage,a=t.DataPost,n=t.newPostText,r=t.profile,s=t.status,i=t.myProfile;return{profile:r,DataPost:a,newPostText:n,status:s,id:e.auth.id,myProfile:i}}),{addPost:function(){return{type:ue}},updateNewPostText:function(e){return{type:je,newText:e}},getUsers:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(a){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:n=t.sent,a((r=n.data,{type:pe,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(a){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(e);case 2:n=t.sent,a(me(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(e);case 2:0===t.sent.data.resultCode&&a(me(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(a){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(e);case 2:0===(n=t.sent).data.resultCode&&a(Oe(n.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f)((function(e){var t=e.getStatus,a=e.getUsers,r=e.id,s=Object(W.a)(e,["getStatus","getUsers","id"]),i=s.match.params.userId;return i||(i=r)||s.history.push("/login"),Object(n.useEffect)((function(){a(i),t(i)}),[i,t,a]),Object(f.jsx)("div",{children:Object(f.jsx)(nt,Object(_.a)(Object(_.a)({},s),{},{isOwner:!s.match.params.userId}))})})),st=a(345),it=function(e){for(var t=e.totalUsersCount,a=e.pageSize,n=e.currentPage,r=e.onPageChanged,s=Math.ceil(t/a),i=[],c=1;c<=s;c++)i.push(c);return Object(f.jsx)(st.a,{count:i.length,onChange:function(e,t){r(t)},siblingCount:3,color:"primary",defaultPage:n})},ct=a(48),ot=a.n(ct);function lt(e){var t=e.user,a=e.follow,n=e.unfollow,r=e.followingInProgress;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("section",{className:ot.a.sec,children:Object(f.jsx)("div",{className:ot.a.card,children:Object(f.jsxs)("div",{className:ot.a.content,children:[Object(f.jsxs)("div",{className:ot.a.imgText,children:[Object(f.jsx)("div",{className:ot.a.imgBx,children:Object(f.jsx)(o.b,{to:"/profile/"+t.id,className:ot.a.img_user,children:Object(f.jsx)("img",{src:t.photos.small||V,alt:""})})}),Object(f.jsx)(o.b,{to:"/profile/"+t.id,children:Object(f.jsx)("h3",{children:t.name})}),Object(f.jsx)("span",{children:t.status})]}),t.followed?Object(f.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){return n(t.id)},className:ot.a.button,children:"UNFOLLOW"}):Object(f.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){return a(t.id)},className:ot.a.button,children:"FOLLOW"})]})})})})}var ut=a(110),jt=a.n(ut),pt=function(e){var t=e.totalUsersCount,a=e.pageSize,n=e.currentPage,r=e.users,s=e.onPageChanged,i=e.follow,c=e.unfollow,o=e.followingInProgress;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:jt.a.wrapper_pagination,children:Object(f.jsx)(it,{currentPage:n,onPageChanged:s,pageSize:a,totalUsersCount:t})}),Object(f.jsx)("div",{className:jt.a.grid_container,children:r.map((function(e){return Object(f.jsx)(lt,{user:e,follow:i,unfollow:c,followingInProgress:o},e.id)}))})]})},dt=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(_.a)(Object(_.a)({},e),n):e}))},bt="FOLLOW",_t="UNFOLLOW",ft="SET_USERS",mt="SET_CURRENT_PAGE",Ot="SET_TOTAL_USERS_COUNT",gt="TOGGLE_IS_FETCHING",ht="TOGGLE_IS_FOLLOWING_PROGRESS",xt={users:[],pageSize:6,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},vt=function(e){return{type:bt,userId:e}},wt=function(e){return{type:_t,userId:e}},Nt=function(e){return{type:mt,currentPage:e}},Pt=function(e){return{type:gt,isFetching:e}},yt=function(e,t){return{type:ht,isFetching:e,userId:t}},St=function(){var e=Object(X.a)(Y.a.mark((function e(t,a,n,r){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(yt(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(r(a)),t(yt(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Ct={follow:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:St(a,e,re,vt);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:St(a,e,se,wt);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:Nt,getUsers:function(e,t){return function(){var a=Object(X.a)(Y.a.mark((function a(n){var r;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Pt(!0)),a.next=3,Z(e,t);case 3:r=a.sent,n((i=r.items,{type:ft,users:i})),n(Nt(e)),n((s=r.totalCount,{type:Ot,count:s})),n(Pt(!1));case 8:case"end":return a.stop()}var s,i}),a)})));return function(e){return a.apply(this,arguments)}}()}},kt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var a=e.props;(0,a.getUsers)(t,a.pageSize)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUsers)(e.currentPage,e.pageSize)}},{key:"render",value:function(){var e=this.props,t=e.totalUsersCount,a=e.pageSize,n=e.currentPage,r=e.users,s=e.follow,i=e.unfollow,c=e.followingInProgress,o=this.onPageChanged;return Object(f.jsx)(f.Fragment,{children:this.props.isFetching?Object(f.jsx)(at,{}):Object(f.jsx)(pt,{totalUsersCount:t,pageSize:a,currentPage:n,users:r,onPageChanged:o,follow:s,unfollow:i,followingInProgress:c})})}}]),a}(n.Component),At=Object(c.b)((function(e){return{users:F(e),pageSize:M(e),totalUsersCount:D(e),currentPage:E(e),isFetching:U(e),followingInProgress:I(e)}}),Ct)(kt),Tt=function(){return Object(f.jsx)("div",{children:"Music"})},Ft=function(){return Object(f.jsx)("div",{children:"News"})},Mt=a(49),Dt=a.n(Mt),Et=a(47),Ut=a(158),It=Et.a().shape({fullName:Et.b().required(),lookingForAJobDescription:Et.b().required(),aboutMe:Et.b().required()}),Lt=function(){var e=Object(c.d)((function(e){return e.profilePage.myProfile})),t=Object(c.c)(),a=Object(Ue.e)({resolver:Object(Ut.a)(It)}),n=a.register,r=a.handleSubmit,s=a.control;a.formState.errors;return e?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:Dt.a.wrapper__settings,children:Object(f.jsxs)("form",{onSubmit:r((function(e){return t(he(e))})),children:[Object(f.jsxs)("div",{className:Dt.a.wrapper__required_input,children:[Object(f.jsx)(Ie.a,Object(_.a)({className:Dt.a.input__settings_profile,label:"Full Name",defaultValue:e.fullName,variant:"outlined"},n("fullName"))),Object(f.jsx)(Ie.a,Object(_.a)(Object(_.a)({className:Dt.a.input__settings_profile,label:"Job Description",defaultValue:e.lookingForAJobDescription},n("lookingForAJobDescription")),{},{variant:"outlined"})),Object(f.jsx)(Ie.a,Object(_.a)({className:Dt.a.input__settings_profile,variant:"outlined",label:"About Me",defaultValue:e.aboutMe},n("aboutMe"))),Object(f.jsxs)("label",{htmlFor:"lookingForAJob",className:Dt.a.label_checkbox,children:["looking For A Job",Object(f.jsx)(Ue.a,{name:"lookingForAJob",control:s,id:"lookingForAJob",render:function(t){var a=t.field;return Object(f.jsx)(Le.a,Object(_.a)({defaultChecked:e.lookingForAJob},a))}})]})]}),Object(f.jsx)("div",{className:Dt.a.wrapper__contacts_input,children:Object.keys(e.contacts).map((function(t){return Object(f.jsx)(Ie.a,Object(_.a)(Object(_.a)({},n("contacts."+t)),{},{defaultValue:e.contacts[t],variant:"outlined",label:t}),t)}))}),Object(f.jsx)("div",{className:Dt.a.wrapper__button_settings,children:Object(f.jsx)(Be.a,{variant:"contained",color:"secondary",type:"submit",label:"submit",children:"SAVE"})})]})})}):Object(f.jsx)(at,{})},Bt=a(71),Jt=a(34),zt=a.n(Jt),Rt="SET_USER_DATA",Vt="GET_CAPTCHA_URL_SUCCESS",Gt={id:null,email:null,login:null,profile:null,isAuth:null,captchaUrl:null},Ht=function(e,t,a,n,r){return{type:Rt,payload:{id:e,email:t,login:a,isAuth:n,profile:r}}},qt=function(e){return{type:Vt,payload:{captchaUrl:e}}},Wt=function(){return function(){var e=Object(X.a)(Y.a.mark((function e(t){var a,n,r,s,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,s=n.email,i=n.login,t(Ht(r,s,i,!0)),t(ge(r)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Kt=function(){return function(){var e=Object(X.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:a=e.sent,n=a.data.url,t(qt(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Yt=Et.a().shape({email:Et.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435").email("\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0439 email"),password:Et.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435").min(6,"M\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),Xt=Object(c.b)((function(e){var t=e.auth;return{isAuth:t.isAuth,captchaUrl:t.captchaUrl}}),{getLoginUser:function(e,t,a){return function(){var n=Object(X.a)(Y.a.mark((function n(r){var s;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce(e,t,a);case 2:0===(s=n.sent).data.resultCode?r(Wt()):10===s.data.resultCode&&r(Kt());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.isAuth,a=e.getLoginUser,n=e.captchaUrl;return t?Object(f.jsx)(d.a,{to:"/profile"}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Bt.c,{initialValues:{email:"",password:"",captcha:""},validateOnBlur:!0,onSubmit:function(e,t){var n=t.setSubmitting;a(e.email,e.password,e.captcha),n(!1)},validationSchema:Yt,children:function(e){var t=e.values,a=e.errors,r=e.touched,s=e.isValid,i=e.handleChange,c=e.handleBlur,o=e.handleSubmit,l=e.dirty;return Object(f.jsxs)(Bt.b,{onSubmit:o,className:zt.a.login_form,children:[Object(f.jsx)("div",{className:zt.a.segment,children:Object(f.jsx)("h1",{className:zt.a.title_login,children:"Sign up"})}),Object(f.jsxs)("label",{className:zt.a.login_label,children:[Object(f.jsx)(Bt.a,{className:Ce()(zt.a.login_input,Object(Ne.a)({},zt.a.login_input_error,a.email)),type:"email",name:"email",onChange:i,onBlur:c,value:t.email,placeholder:"Email"}),r.email&&a.email&&Object(f.jsx)("p",{className:zt.a.error,children:a.email})]}),Object(f.jsxs)("label",{className:zt.a.login_label,children:[Object(f.jsx)(Bt.a,{className:Ce()(zt.a.login_input,Object(Ne.a)({},zt.a.login_input_error,a.password)),type:"password",name:"password",onChange:i,onBlur:c,value:t.password,placeholder:"Password"}),r.password&&a.password&&Object(f.jsx)("p",{className:zt.a.error,children:a.password})]}),n&&Object(f.jsx)("img",{src:n}),n&&Object(f.jsx)("input",{className:Ce()(zt.a.login_input,Object(Ne.a)({},zt.a.login_input_error,a.password)),type:"text",name:"captcha",onChange:i,onBlur:c,value:t.captcha,placeholder:"Captcha"}),Object(f.jsx)("button",{className:zt.a.login_button,type:"submit",disabled:!s&&!l,children:"Log in"})]})}})})})),Qt=a(88),Zt=a(89),$t=a.n(Zt),ea=function(){return Object(f.jsx)("div",{className:Ce()($t.a.btn_auth),children:Object(f.jsx)(Qt.Button,{icon:"pi pi-user",label:"Log In",className:Ce()()})})},ta=function(){return Object(f.jsx)("div",{className:Ce()($t.a.btn_auth),children:Object(f.jsx)(Qt.Button,{label:"Submit",icon:"pi pi-check",className:Ce()("p-button-success")})})},aa=function(e){var t=e.logoutUser;return Object(f.jsx)("div",{className:Ce()($t.a.btn_auth),children:Object(f.jsx)(Qt.Button,{onClick:t,label:"Log Out",icon:"pi pi-times",className:Ce()("p-button-danger")})})},na=a.p+"static/media/logo.6e04e92a.png",ra=a(70),sa=a.n(ra),ia=function(e){var t=e.isAuth,a=e.logoutUser,n=e.myProfile;return n?Object(f.jsxs)("header",{className:sa.a.header,children:[Object(f.jsx)("a",{href:"##",children:Object(f.jsx)("img",{src:na,alt:"logo",className:sa.a.header_logo})}),Object(f.jsxs)("div",{className:sa.a.container,children:[Object(f.jsx)("img",{src:n.photos.large||V,alt:"",className:sa.a.avatarHeader}),Object(f.jsx)(o.b,{to:"/login",children:t?Object(f.jsx)(ta,{profile:n}):Object(f.jsx)(ea,{})}),Object(f.jsx)(aa,{logoutUser:a})]})]}):""},ca=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(f.jsx)(ia,Object(_.a)({},this.props))}}]),a}(r.a.Component),oa=Object(c.b)((function(e){return{isAuth:e.auth.isAuth,myProfile:e.profilePage.myProfile}}),{logoutUser:function(){return function(){var e=Object(X.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:0===e.sent.data.resultCode&&t(Ht(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ca),la=(a(304),a(305),a(306),a(307),"SET_INITIALIZED"),ua={initialized:!1},ja=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"render",value:function(){return this.props.initialized?Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(oa,{}),Object(f.jsxs)("div",{className:"content-wrapper",children:[Object(f.jsx)("div",{className:"cont-nav",children:Object(f.jsx)(q,{})}),Object(f.jsxs)("div",{className:"cont-content",children:[Object(f.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(f.jsx)(rt,{})}}),Object(f.jsx)(d.b,{path:"/dialogs",render:function(){return Object(f.jsx)(T,{})}}),Object(f.jsx)(d.b,{path:"/news",render:function(){return Object(f.jsx)(Ft,{})}}),Object(f.jsx)(d.b,{path:"/music",render:function(){return Object(f.jsx)(Tt,{})}}),Object(f.jsx)(d.b,{path:"/users",render:function(){return Object(f.jsx)(At,{})}}),Object(f.jsx)(d.b,{path:"/settings",render:function(){return Object(f.jsx)(Lt,{})}}),Object(f.jsx)(d.b,{path:"/login",render:function(){return Object(f.jsx)(Xt,{})}})]})]})]}):Object(f.jsx)(at,{})}}]),a}(n.Component),pa=Object(b.c)(d.f,Object(c.b)((function(e){return{initialized:e.app.initialized}}),{initialize:function(){return function(e){var t=e(Wt());Promise.all([t]).then((function(){e({type:la})}))}}}))(ja),da=(a(308),a(157)),ba={DataFriends:[{id:1,name:"Alex",avatar:"https://upload.wikimedia.org/wikipedia/commons/f/f3/Al_Capone_in_1930.jpg"},{id:2,name:"Philip",avatar:"https://fs.kinomania.ru/file/person/8/22/82297fb03825734791f88e99cf913877.jpeg"},{id:3,name:"Karina",avatar:"https://mfa.gov.il/MFARUS/IsraelExperience/IsraelExperience/Natalie%20Portman%20large.jpg"}]},_a=Object(b.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:var a={id:e.DataPost.length,post:e.newPostText};return Object(_.a)(Object(_.a)({},e),{},{DataPost:[].concat(Object(O.a)(e.DataPost),[a]),newPostText:""});case je:return Object(_.a)(Object(_.a)({},e),{},{newPostText:t.newText});case pe:return Object(_.a)(Object(_.a)({},e),{},{profile:t.profile});case _e:return Object(_.a)(Object(_.a)({},e),{},{myProfile:t.profile});case de:return Object(_.a)(Object(_.a)({},e),{},{status:t.status});case be:return Object(_.a)(Object(_.a)({},e),{},{myProfile:Object(_.a)(Object(_.a)({},e.myProfile),{},{photos:t.avatar})});default:return e}},messagePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var a={id:4,messages:e.newMessageText};return Object(_.a)(Object(_.a)({},e),{},{DataMessage:[].concat(Object(O.a)(e.DataMessage),[a]),newMessageText:""});case h:return Object(_.a)(Object(_.a)({},e),{},{newMessageText:t.newSms});default:return e}},siteBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return Object(_.a)(Object(_.a)({},e),{},{users:dt(e.users,t.userId,"id",{followed:!0})});case _t:return Object(_.a)(Object(_.a)({},e),{},{users:dt(e.users,t.userId,"id",{followed:!1})});case ft:return Object(_.a)(Object(_.a)({},e),{},{users:t.users});case mt:return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.currentPage});case Ot:return Object(_.a)(Object(_.a)({},e),{},{totalUsersCount:t.count});case gt:return Object(_.a)(Object(_.a)({},e),{},{isFetching:t.isFetching});case ht:return Object(_.a)(Object(_.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(O.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:case Vt:return Object(_.a)(Object(_.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case la:return Object(_.a)(Object(_.a)({},e),{},{initialized:!0});default:return e}}}),fa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.c,ma=Object(b.d)(_a,fa(Object(b.a)(da.a)));window.store=ma;var Oa=ma;i.a.render(Object(f.jsx)(o.a,{basename:"/IT-Kamasutra-React-Project",children:Object(f.jsx)(c.a,{store:Oa,children:Object(f.jsx)(pa,{})})}),document.getElementById("root"))},32:function(e,t,a){e.exports={nav:"NavBarItems_nav__24lex",nav_list:"NavBarItems_nav_list__bcUv2",nav_list_items:"NavBarItems_nav_list_items__1Bl2g",activeLink:"NavBarItems_activeLink__23YJX"}},34:function(e,t,a){e.exports={login_form:"Login_login_form__EGu74",segment:"Login_segment__EFhKg",login_input:"Login_login_input__3ASBO",login_button:"Login_login_button__rFlsg",login_label:"Login_login_label__33M7R",login_input_error:"Login_login_input_error__Ff_OJ",error:"Login_error__sUyu2",error_message:"Login_error_message__3zsHj"}},48:function(e,t,a){e.exports={card:"UsersCard_card__GCFJ7",imgText:"UsersCard_imgText__2Gs34",content:"UsersCard_content__YIQKq",imgBx:"UsersCard_imgBx__3N0w9",button:"UsersCard_button__ER2sB"}},49:function(e,t,a){e.exports={wrapper__settings:"Settings_wrapper__settings__2n4v7",input__settings_profile:"Settings_input__settings_profile__1KAu3",wrapper__required_input:"Settings_wrapper__required_input__2M8hk",wrapper__input_description:"Settings_wrapper__input_description__1Bhro",label_checkbox:"Settings_label_checkbox__csBuj",wrapper__contacts_input:"Settings_wrapper__contacts_input__21Sx8",wrapper__button_settings:"Settings_wrapper__button_settings__2UYQF"}},55:function(e,t,a){e.exports={wrapper_dialogs:"Dialogs_wrapper_dialogs__k8Wes",container_chats:"Dialogs_container_chats__13QZ2",message:"Dialogs_message__wYTBP",formMessage:"Dialogs_formMessage__1JyPE",inputMessage:"Dialogs_inputMessage__2kzwL",buttonMessage:"Dialogs_buttonMessage__1Guab"}},59:function(e,t,a){e.exports={wrapper_img:"ProfileAvatar_wrapper_img__UUwV0",wrapper_img_opacity:"ProfileAvatar_wrapper_img_opacity__1b0fX",opacity_avatar:"ProfileAvatar_opacity_avatar__2fgmK",description_avatar:"ProfileAvatar_description_avatar__i9sUx",upload_avatar:"ProfileAvatar_upload_avatar__2yHqz",label_uploadAvatar:"ProfileAvatar_label_uploadAvatar__s1erE",icon_label:"ProfileAvatar_icon_label__38zq5"}},64:function(e,t,a){e.exports={title:"MyPosts_title__2Wla6",formMyPost:"MyPosts_formMyPost__YBRA9",input:"MyPosts_input__3SSij",button:"MyPosts_button___isEH"}},70:function(e,t,a){e.exports={header:"Header_header__24Abm",header_logo:"Header_header_logo__1Wexy",container:"Header_container__2opC6",avatarHeader:"Header_avatarHeader__2vvmr"}},85:function(e,t,a){e.exports={wrapper:"NavBarFriends_wrapper__1OG5x",avatar:"NavBarFriends_avatar__3ODGS",nickname:"NavBarFriends_nickname__2sjQH"}},86:function(e,t,a){e.exports={title_contacts:"ProfileContacts_title_contacts__3BTIv",noInformation:"ProfileContacts_noInformation__3eQ0V"}},87:function(e,t,a){e.exports={post:"Post_post__32Crb",post_avatar:"Post_post_avatar__cgCmp",post_text:"Post_post_text__2vXXX"}},89:function(e,t,a){e.exports={btn_auth:"Btn_btn_auth__TRjot"}}},[[309,1,2]]]);
//# sourceMappingURL=main.9065a500.chunk.js.map